#!/usr/bin/env bash

# icon=$HOME/.xlock/icon.png
tmpbg=/tmp/screen.png
scrot "$tmpbg"
convert "$tmpbg" -scale 10% -scale %1000 "$tmpbg"
i3lock -i "$tmpbg"
rm "$tmpbg"

# this version uses the current wallpaper instead of a screenshot
# tmpbg="$(cat /tmp/wallpaperfile | sed 's/.*\//\/tmp\//')"
# cp "$(cat /tmp/wallpaperfile)" "$tmpbg"
# ext="$(cat /tmp/wallpaperfile | sed 's/.*\///' | sed 's/.*\.//')"
# tmpbg_res="$(echo $tmpbg | sed 's/\..*//')-resized.png"
# convert "$tmpbg" -resize 1920x1080 "$tmpbg_res"
## Original ratio: 10% 1000%
## Numbers scale inversely, e.g double one, half the other
# convert "$tmpbg_res" -scale 10% -scale %1000 "$tmpbg_res"
# i3lock -i "$tmpbg_res"
# rm "$tmpbg" "$tmpbg_res"




# convert "$tmpbg" -gravity center -composite -matte "$tmpbg"

# Pause music on lock
# dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Stop

